type PoolInfo @entity {
  id: ID!
  totalLiquidity: BigInt!
  availableLiquidity: BigInt!
  lockedAmount: BigInt!
  utilizationRate: BigDecimal!
  poolPrice: BigInt!
  policyCount: Int!
  paused: Boolean!
}

type PolicyInfo @entity {
  id: ID!
  policyId: BigInt!
  asset: String!
  assetPrice: BigInt!
  owner: Owner!
  payOutAmount: BigInt!
  premium: BigInt!
  endTime: BigInt!
  startTime: BigInt!
  utilized: Boolean!
}

type Owner @entity {
  id: ID!
  ownedPolicies: [PolicyInfo!]! @derivedFrom(field: "owner")
  policyCount: Int!
  liquidityProvided: BigInt!
  shares: BigInt!
  unlockTimestamp: BigInt!
  unlockAmount: BigInt!
}

type InsureDayData @entity {
  id: ID! # timestamp rounded to current day by dividing by 86400
  date: Int!
  dailyVolume: BigInt!
}
